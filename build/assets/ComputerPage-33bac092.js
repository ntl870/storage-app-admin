import{u as C,bg as y,bh as b,r as i,a as t,j as a,F as w,T as c,R as N,D as v,C as D,m as S,bi as I}from"./index-18d7895e.js";import{E as T}from"./index-9ad78b7b.js";import{M as j}from"./index-8250cea1.js";import{c as k}from"./FolderSection-8fc5df3c.js";import{D as A}from"./DeleteOutlined-725f5558.js";import"./index-aa80ddb7.js";import"./index.es-f03b9607.js";import"./styled-components.browser.esm-08fa7367.js";import"./index-5b4eb152.js";const Q=()=>{var m;const{showErrorNotification:u,showSuccessNotification:p}=C(),{data:s,refetch:h}=y(),[d]=b(),[o,f]=i.useState(null),[r,l]=i.useState(null),g=async()=>{try{const{data:e}=await d({variables:{macAddress:(r==null?void 0:r.macAddress)??""}});p((e==null?void 0:e.removeComputer)||""),await h(),l(null)}catch(e){u(e.message)}},x=e=>[{label:"Remove",key:"1",icon:t(A,{}),onClick:()=>l(e)}],n=e=>{f(e)};return s!=null&&s.getUserComputers.length?a(w,{children:[a("div",{className:"pt-5",children:[t(c.Title,{level:4,className:"ml-4 font-normal",children:"Sync Computers"}),t(N,{className:"ml-7",children:(m=s==null?void 0:s.getUserComputers)==null?void 0:m.map(e=>t(v,{menu:{items:x(e)},trigger:["contextMenu"],children:t(D,{className:"m-4",children:t(S,{title:e.name,children:a(k,{className:`p-3 flex flex-row items-center min-w-[17rem] max-w-[17rem] ${(o==null?void 0:o.ID)===e.ID?"bg-blue-100":"bg-white hover:bg-neutral-100"}`,onClick:()=>n==null?void 0:n(e),children:[t(I,{className:"text-xl mr-3 flex items-center"}),t(c.Text,{className:"inline-block truncate select-none font-semibold",children:e.name})]})})})},e.ID))})]}),t(j,{title:"Confirm delete computer",open:!!r,onCancel:()=>l(null),onOk:g,children:t("p",{children:"Are you sure you want to delete this computer?"})})]}):t("div",{className:"flex justify-center items-center h-full",children:t(T,{})})};export{Q as ComputerPage};
